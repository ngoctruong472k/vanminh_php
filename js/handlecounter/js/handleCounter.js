!function(){"use strict";$.fn.handleCounter=function(a){function p(a){b.data("num",a),c.prop("disabled",!1),d.prop("disabled",!1),a<=e?(c.prop("disabled",!0),i.call(this,a)):null!=f&&a>=f&&(d.prop("disabled",!0),j.call(this,a)),h.call(this,a)}var b,c,d,e,f,g,h,i,j,k=this;c=k.find(".counter-minus"),b=k.find("input"),d=k.find(".counter-plus");var l={writable:!0,minimum:1,maximize:null,onChange:function(){},onMinimum:function(){},onMaximize:function(){}},m=$.extend({},l,a);e=m.minimum,f=m.maximize,g=m.writable,h=m.onChange,i=m.onMinimum,j=m.onMaximize,$.isNumeric(e)||(e=l.minimum),$.isNumeric(f)||(f=l.maximize);var n=b.val();isNaN(parseInt(n))&&(n=b.val(0).val()),g||b.prop("disabled",!0),p(n),b.val(n),c.click(function(){var a=parseInt(b.val());a>e&&(b.val(a-1),p(a-1))}),d.click(function(){var a=parseInt(b.val());(null==f||a<f)&&(b.val(a+1),p(a+1))});var o;return b.keyup(function(){clearTimeout(o),o=setTimeout(function(){var a=b.val();""==a&&(a=e,b.val(e));var c=new RegExp("^[\\d]*$");isNaN(parseInt(a))||!c.test(a)?(b.val(b.data("num")),p(b.data("num"))):a<e?(b.val(e),p(e)):null!=f&&a>f?(b.val(f),p(f)):p(a)},300)}),b.focus(function(){var a=b.val();0==a&&b.select()}),k}}(jQuery);